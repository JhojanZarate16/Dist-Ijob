"use strict";angular.module("ijobApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ngRoute","ngFileUpload"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"vm"}).when("/register",{templateUrl:"views/register.html",controller:"RegisterCtrl",controllerAs:"vm"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl",controllerAs:"vm"}).when("/profile",{templateUrl:"views/profile.html",controller:"ProfileCtrl",controllerAs:"vm"}).when("/remember",{templateUrl:"views/remember.html",controller:"RememberCtrl",controllerAs:"vm"}).when("/search",{templateUrl:"views/search.html",controller:"SearchCtrl",controllerAs:"vm"}).when("/contacts",{templateUrl:"views/contacts.html",controller:"ContactsCtrl",controllerAs:"vm"}).when("/qualification",{templateUrl:"views/qualification.html",controller:"QualificationCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"})}]).run(["$rootScope",function(a){a.test=new Date}]),angular.module("ijobApp").controller("MenuCtrl",["$location","$rootScope",function(a,b){var c=this;b.user||(b.user={email:localStorage.getItem("correo"),name:localStorage.getItem("nombre"),lastName:localStorage.getItem("apellidos"),id:localStorage.getItem("id"),token:localStorage.getItem("token")}),c.logout=function(){b.user={},localStorage.clear(),a.path("/")}}]);var CryptoService=function(){var a={},b={encode:function(a){function b(a,b){var c=a<<b|a>>>32-b;return c}function c(a){var b,c,d="";for(b=7;b>=0;b--)c=a>>>4*b&15,d+=c.toString(16);return d}function d(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b}var e="1234567890123456";a=e+a+e;var f,g,h,i,j,k,l,m,n,o=new Array(80),p=1732584193,q=4023233417,r=2562383102,s=271733878,t=3285377520;a=d(a);var u=a.length,v=new Array;for(g=0;u-3>g;g+=4)h=a.charCodeAt(g)<<24|a.charCodeAt(g+1)<<16|a.charCodeAt(g+2)<<8|a.charCodeAt(g+3),v.push(h);switch(u%4){case 0:g=2147483648;break;case 1:g=a.charCodeAt(u-1)<<24|8388608;break;case 2:g=a.charCodeAt(u-2)<<24|a.charCodeAt(u-1)<<16|32768;break;case 3:g=a.charCodeAt(u-3)<<24|a.charCodeAt(u-2)<<16|a.charCodeAt(u-1)<<8|128}for(v.push(g);v.length%16!==14;)v.push(0);for(v.push(u>>>29),v.push(u<<3&4294967295),f=0;f<v.length;f+=16){for(g=0;16>g;g++)o[g]=v[f+g];for(g=16;79>=g;g++)o[g]=b(o[g-3]^o[g-8]^o[g-14]^o[g-16],1);for(i=p,j=q,k=r,l=s,m=t,g=0;19>=g;g++)n=b(i,5)+(j&k|~j&l)+m+o[g]+1518500249&4294967295,m=l,l=k,k=b(j,30),j=i,i=n;for(g=20;39>=g;g++)n=b(i,5)+(j^k^l)+m+o[g]+1859775393&4294967295,m=l,l=k,k=b(j,30),j=i,i=n;for(g=40;59>=g;g++)n=b(i,5)+(j&k|j&l|k&l)+m+o[g]+2400959708&4294967295,m=l,l=k,k=b(j,30),j=i,i=n;for(g=60;79>=g;g++)n=b(i,5)+(j^k^l)+m+o[g]+3395469782&4294967295,m=l,l=k,k=b(j,30),j=i,i=n;p=p+i&4294967295,q=q+j&4294967295,r=r+k&4294967295,s=s+l&4294967295,t=t+m&4294967295}var n=c(p)+c(q)+c(r)+c(s)+c(t);return n.toLowerCase()}},c={keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,g="",h="",i="",j=0;do b=a.charCodeAt(j++),c=a.charCodeAt(j++),h=a.charCodeAt(j++),d=b>>2,e=(3&b)<<4|c>>4,f=(15&c)<<2|h>>6,i=63&h,isNaN(c)?f=i=64:isNaN(h)&&(i=64),g=g+this.keyStr.charAt(d)+this.keyStr.charAt(e)+this.keyStr.charAt(f)+this.keyStr.charAt(i),b=c=h="",d=e=f=i="";while(j<a.length);return g},decode:function(a){var b,c,d,e,f,g="",h="",i="",j=0,k=/[^A-Za-z0-9\+\/\=]/g;k.exec(a)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do d=this.keyStr.indexOf(a.charAt(j++)),e=this.keyStr.indexOf(a.charAt(j++)),f=this.keyStr.indexOf(a.charAt(j++)),i=this.keyStr.indexOf(a.charAt(j++)),b=d<<2|e>>4,c=(15&e)<<4|f>>2,h=(3&f)<<6|i,g+=String.fromCharCode(b),64!=f&&(g+=String.fromCharCode(c)),64!=i&&(g+=String.fromCharCode(h)),b=c=h="",d=e=f=i="";while(j<a.length);return g}};return a.SHA1=b,a.Base64=c,a};angular.module("ijobApp").factory("CryptoService",CryptoService);var CommonService=function(a){var b={},c="http://vmijob.cloudapp.net/api/";return b.Roles=[{codigo:"1",nombre:"Cliente"},{codigo:"2",nombre:"Proveedor"}],b.Genero=[{codigo:"1",nombre:"Masculino"},{codigo:"2",nombre:"Femenino"}],b.MetodoRegistro=[{codigo:"4",nombre:"nativo"}],b.getUbicaciones=function(){return a.get(c+"/ubicaciones/")},b.getSectores=function(){return a.get(c+"/sectores/")},b.getOcupaciones=function(){return a.get(c+"/ocupaciones/")},b.getEscolaridad=function(){return a.get(c+"/usuario-escolaridad/")},b.getRoles=function(){return a.get(c+"/usuario-roles/")},b.getEstados=function(){return a.get(c+"/usuario-estados/")},b};angular.module("ijobApp").factory("CommonService",CommonService),CommonService.$inject=["$http"],angular.module("ijobApp").controller("MainCtrl",["SearchService","UserService",function(a,b){var c=this,d=localStorage.getItem("id");console.log(d);var e=function(){c.advanced=!1,c.searchResult="",c.jobs=[],a.search().then(function(a){console.log("response =>",a),f(a)})},f=function(a){a.data.codigo?204===a.data.codigo&&(c.searchResult=a.data.mensaje):(c.jobs=a.data,angular.forEach(c.jobs,function(a,c){a.since=g(a.creado),a.creadoEn=moment(a.creado).format("YYYY-MM-DD hh:mm a"),a.requestText="Hacer solicitud",a._imagen?a.srcImage=b.GetUserImage(a._imagen):a.srcImage="/images/avatar_male.8cf956c8.png"}))},g=function(a){var b=moment(a),c=-1*b.diff(moment(),"days"),d=-1*b.diff(moment(),"hours"),e=-1*b.diff(moment(),"years"),f="";return e>0&&c>0?f="Hace más de un año":c>30?f="Hace más de un mes":30>=c&&(f="Hace "+c+" día(s) y "+d+" horas"),f};d&&e()}]),angular.module("ijobApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("ijobApp").controller("RegisterCtrl",["UserService","$location","CryptoService","CommonService",function(a,b,c,d){var e=this;e.Roles=d.Roles,e.MetodoRegistro=d.MetodoRegistro,e.Genero=d.Genero,e.msg={className:"",content:""};var f=function(){e.msg.msg="",e.msg.className="",e.dataLoading=!0,e.user.clave=c.SHA1.encode(e.user.clave).toString(),e.user.metodoRegistro=4,a.Create(e.user).then(function(a){g(a)},function(a){h(a)})},g=function(a){console.log("ok =>",a),a&&a.data.token&&(e.msg.className="text-success",e.msg.content=a.data.mensaje,e.token=a.data.token,localStorage.setItem("token",a.data.token),localStorage.setItem("id",a.data._id),b.path("/login")),e.dataLoading=!1},h=function(a){console.log("error =>",a),e.dataLoading=!1,e.msg.className="text-danger",e.msg.content=a.data.error};e.register=f}]);var UserService=function(a,b){function c(){return a.get("/api/users").then(q,r("Error getting all users"))}function d(b){return a({method:"GET",url:u+"/"+b,headers:{authorization:"bearer "+localStorage.getItem("token")}})}function e(a){return"http://vmijob.cloudapp.net/img/usuarios/imagen/"+a}function f(b,c){return a.post(u+"/autenticar",{correo:b,clave:c}).then(q,r)}function g(b){return a.get(u+b).then(q,r)}function h(){return a.get("http://vmijob.cloudapp.net/api/usuario-roles/").then(q,r)}function i(b){return a.post(u,b)}function j(b){return a.post(u+"/recordar",{correo:b})}function k(b,c){return a({method:"PUT",url:u+"/"+c+"/personal",data:b,headers:{authorization:"bearer "+localStorage.getItem("token")}})}function l(b,c){return a({method:"PUT",url:u+"/"+b+"/descripcion",data:{descripcion:c},headers:{authorization:"bearer "+localStorage.getItem("token")}})}function m(a,c){return b.upload({method:"PUT",headers:{authorization:"bearer "+localStorage.getItem("token")},url:u+"/"+a+"/imagen",data:{imagenUsuario:c}})}function l(b,c){return a({method:"PUT",url:u+"/"+b+"/descripcion",data:{descripcion:c},headers:{authorization:"bearer "+localStorage.getItem("token")}})}function n(b,c){return a({method:"PUT",url:u+"/"+b+"/disponible",data:{disponible:c},headers:{authorization:"bearer "+localStorage.getItem("token")}})}function o(b,c){var d=c._id?"PUT":"POST";return"PUT"===d&&(c.idOcupacion=c._id),a({method:d,url:u+"/"+b+"/ocupacion",data:c,headers:{authorization:"bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}})}function p(b){return a["delete"]("/api/users/"+b).then(q,r("Error deleting user"))}function q(a){return a.data}function r(a){return function(){return{success:!1,message:a.data.mensaje}}}function s(b,c){return console.log("id",b),console.log("idocupacion",c),a({method:"DELETE",url:u+"/"+b+"/ocupacion",data:{idOcupacion:c},headers:{authorization:"bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}})}var t={},u="http://vmijob.cloudapp.net/api/usuarios";return t.updateDisponibilidad=n,t.deleteOcupacion=s,t.GetAll=c,t.GetById=d,t.GetByUsername=f,t.Create=i,t.Update=k,t.Delete=p,t.GetUserByID=g,t.GetRoles=h,t.RememberPass=j,t.UpdateDescripcion=l,t.UpdateOcupacion=o,t.UpdateImage=m,t.GetUserImage=e,t};angular.module("ijobApp").factory("UserService",UserService),UserService.$inject=["$http","Upload"],angular.module("ijobApp").controller("LoginCtrl",["LoginService","CryptoService","$location","$rootScope",function(a,b,c,d){var e=this;e.msg={className:"",content:""},console.log(b.SHA1.encode("sistem32+"));var f=function(){e.msg.className="",e.msg.content="";var c={correo:e.username,clave:b.SHA1.encode(e.password)};a.login(c).then(function(a){g(a)},function(a){h(a)})},g=function(a){console.log("ok =>",a),e.msg.className="text-success",e.msg.content="Bienvenido (a) "+a.data.nombre+"!",localStorage.setItem("token",a.data.token),localStorage.setItem("id",a.data._id),localStorage.setItem("nombre",a.data.nombre),localStorage.setItem("apellidos",a.data.apellidos),localStorage.setItem("correo",e.username),d.user={email:e.username,name:a.data.nombre,lastName:a.data.apellidos,id:a.data._id,token:a.data.token},console.log("rootScope",d),c.path("/home")},h=function(a){console.log("error =>",a),e.msg.className="text-danger",e.msg.content=a.data.error};e.login=f}]);var LoginService=function(a){var b={},c="http://vmijob.cloudapp.net/api/usuarios/autenticar",d=function(b){return a.post(c,b)};return b.uri=c,b.login=d,b};angular.module("ijobApp").factory("LoginService",LoginService),LoginService.$inject=["$http"],angular.module("ijobApp").controller("ProfileCtrl",["$location","ProfileService","UserService","CommonService","$rootScope","$filter",function(a,b,c,d,e,f){var g=this;e.user.id||a.path("/"),g.defaultImage="/images/avatar_male.8cf956c8.png",g.Roles=d.Roles,g.MetodoRegistro=d.MetodoRegistro,g.Genero=d.Genero,g.ubicaciones=[],g.escolaridad=[],g.ocupaciones=[],g.estados=[],g.sectores=[],g.msg={success:null,error:null};var h=localStorage.getItem("id");console.log("token",localStorage.getItem("token"));var i=function(){g.dataLoading=!0,c.GetById(h).then(p,q)},j=function(){d.getUbicaciones().then(function(a){g.ubicaciones=a.data},function(a){console.log("error ubicaciones =>",a)})},k=function(){d.getSectores().then(function(a){g.sectores=a.data},function(a){console.log("error sectores =>",a)})},l=function(){d.getEscolaridad().then(function(a){g.escolaridad=a.data},function(a){console.log("error escolaridad =>",a)})},m=function(){d.getEstados().then(function(a){g.estados=a.data},function(a){console.log("error getEstados =>",a)})},n=function(){d.getOcupaciones().then(function(a){g.ocupaciones=a.data},function(a){console.log("error escolaridad =>",a)})},o=function(){var a=f("filter")(g.ubicaciones,{municipio:g.user.ciudad})[0];console.log("user a actualizar =>",g.user);var b={nombre:g.user.nombre,apellidos:g.user.apellidos,correo:g.user.correo,nacimiento:g.user.nacimiento,genero:g.user.genero,cedula:g.user.cedula,_ubicacion:a};c.Update(b,h).then(function(a){g.msg.error=null}).then(function(a){a&&(g.msg.error="Error actualizando la información básica")}),c.UpdateDescripcion(h,g.user.descripcion).then(function(a){}).then(function(a){a&&(g.msg.error="Error actualizando la descripción del usuario")}),c.updateDisponibilidad(h,g.user.disponible).then(function(a){}).then(function(a){a&&(g.msg.error="Error actualizando la disponibilidad del usuario")}),angular.forEach(g.user.ocupaciones,function(a,b){console.log("actualizando ocupacion",a);var d=f("filter")(g.ocupaciones,{_id:a.idOcupacion})[0];console.log("filtrada =>",d);var e={ocupacion:d,experiencia:a.experiencia,cursos:a.cursos,tipo:a.tipo,_id:a._id};c.UpdateOcupacion(h,e).then(function(a){console.log("sucess update ocupación =>",a)}).then(function(a){console.log("error update descripcion =>",a),a&&(g.msg.error="Error actualizando la ocupación del usuario")})}),g.user.image&&c.UpdateImage(h,g.user.image).then(function(a){console.log("sucess update image =>",a)}).then(function(a){console.log("error update image  =>",a),a&&(g.msg.error="Error actualizando la imagen del usuario")}),g.msg.error||(g.msg.success="Usuario actualizado con éxito")},p=function(a){console.log("user =>",a.data),g.dataLoading=!1,g.user=a.data,g.user.nacimiento=moment(a.data.nacimiento).toDate(),g.user.genero=a.data.genero.toString(),g.user.canAddOcupacion=3===a.data.estado||4===a.data.estado,g.user.canAddDispobilidad=3===a.data.estado||4===a.data.estado||5===a.data.estado,g.user.disponible=4===a.data.estado,c.GetUserImage(g.user._imagen),g.image="data:image/JPEG;base64,"+a.data,s(),a.data._ubicacion&&(g.user.departamento=a.data._ubicacion.departamento,g.user.ciudad=a.data._ubicacion.municipio);var b=a.data.ocupaciones;g.user.ocupaciones=[],angular.forEach(b,function(a,b){var c=a;c.idOcupacion=a._ocupacion?a._ocupacion._id:null,g.user.ocupaciones.push(c)})},q=function(a){console.log("error =>",a),g.dataLoading=!0},r=function(a){var b=g.user.ocupaciones.indexOf(a);a._id?c.deleteOcupacion(h,a._id).then(function(a){console.log("ok delete ocupacion",a),g.user.ocupaciones.splice(b,1)},function(a){console.log("error",a)}):g.user.ocupaciones.splice(b,1)},s=function(){var a=g.estados,b=f("filter")(a,{codigo:g.user.estado})[0];g.user.Status=b};g.getUserInfo=i,g.updateUser=o,g.deleteOcupacion=r,g.addOcupacion=function(){g.user.ocupaciones.push({})},i(h),j(),l(),n(),m(),k()}]);var ProfileService=function(a,b){var c={};localStorage.getItem("token"),localStorage.getItem("id");return c};angular.module("ijobApp").factory("ProfileService",ProfileService),ProfileService.$inject=["$http"],angular.module("ijobApp").controller("RememberCtrl",["UserService","$location",function(a,b){var c=this;c.msg={className:"",content:""},c.sended=!1;var d=function(a){console.log("error =>",a),c.msg.content=a.data.error,c.msg.className="text-danger"},e=function(a){console.log("sucess =>",a),c.sended=!0,c.msg.content=a.data.mensaje,c.msg.className="text-success"};c.remember=function(){c.msg.content="",c.msg.className="",a.RememberPass(c.email).then(e,d)},c.cancel=function(){b.path("/login")}}]),angular.module("ijobApp").controller("SearchCtrl",["SearchService","UserService","CommonService","ContactsService",function(a,b,c,d){var e=this,f=localStorage.getItem("id");e.idUser=f,e.currentPage=1,e.search={},e.searchResult=null,e.advanced=!1,e.geografica=!1,e.ubicaciones=[],e.escolaridad=[],e.ocupaciones=[],e.estados=[],e.sectores=[],e.jobs=[],e.isDoingRequest=!1,e.requestText="Hacer solicitud";var g=function(){e.advanced=!1,e.searchResult="",e.jobs=[],a.search().then(function(a){console.log("response =>",a),j(a)})};e.changePage=function(a){e.currentPage=a,h()};var h=function(){e.advanced=!0,e.searchResult="",e.jobs=[];var b={ocupacion:e.search.idOcupacion,categoria:e.search.idSector,ciudad:e.search.ciudad,calificacion:e.search.calificacion,jornada:"",horario:"",pagina:e.currentPage};a.adSearch(f,b).then(function(a){console.log("advanced",a),j(a)})};e.searchJobs=g,e.advancedSearch=function(){e.currentPage=1,h()},e.advancedSearchInit=function(){e.advanced=!0},e.doRequest=function(a){e.requestResult="";var b={idUsuarioSolicita:e.idUser,idUsuarioRecibe:a._id};e.requestText="Por favor espere...",a.isDoingRequest=!0,d.postContact(f,b).then(function(b){console.log(b),e.requestResult=b.data,e.isDoingRequest=!1,a.requestText="Solicitud realizada"},function(b){console.log(b),e.requestResult=b.data,e.isDoingRequest=!1,a.requestText=b.data.error})};var i=function(a){var b=moment(a),c=-1*b.diff(moment(),"days"),d=-1*b.diff(moment(),"hours"),e=-1*b.diff(moment(),"years"),f="";return e>0&&c>0?f="Hace más de un año":c>30?f="Hace más de un mes":30>=c&&(f="Hace "+c+" día(s) y "+d+" horas"),f},j=function(a){a.data.codigo?204===a.data.codigo&&(e.searchResult=a.data.mensaje):(e.jobs=a.data,angular.forEach(e.jobs,function(a,c){a.since=i(a.creado),a.creadoEn=moment(a.creado).format("YYYY-MM-DD hh:mm a"),a.requestText="Hacer solicitud",a._imagen?a.srcImage=b.GetUserImage(a._imagen):a.srcImage="/images/avatar_male.8cf956c8.png"}))},k=function(){c.getUbicaciones().then(function(a){e.ubicaciones=a.data},function(a){console.log("error ubicaciones =>",a)})},l=function(){c.getSectores().then(function(a){e.sectores=a.data},function(a){console.log("error sectores =>",a)})},m=function(){c.getEscolaridad().then(function(a){e.escolaridad=a.data},function(a){console.log("error escolaridad =>",a)})},n=function(){c.getEstados().then(function(a){e.estados=a.data},function(a){console.log("error getEstados =>",a)})},o=function(){c.getOcupaciones().then(function(a){e.ocupaciones=a.data},function(a){console.log("error escolaridad =>",a)})},p=function(a){console.log("position",a);var b={lat:a.coords.latitude,lng:a.coords.longitude},c=new google.maps.Map(document.getElementById("map"),{zoom:13,center:b});new google.maps.Marker({position:b,map:c})},q=function(){r({coords:{latitude:4.6923,longitude:-74.1063661}})},r=function(a){console.log("position",a),e.position=a,p(a)};e.searchGeografica=function(){e.geografica=!e.geografica,e.advanced=!1,q()},e.adSearch=function(){e.advanced=!e.advanced,e.geografica=!1};var s=function(){e.geoSearchResult="",e.jobs=[],e.search.geoOcupacion||alert("seleccione una ocupación");var b={latitud:e.position.coords.latitude,longitud:e.position.coords.longitude,ocupacion:e.search.geoOcupacion,pagina:1};console.log("payload => ",b),a.geoSearch(f,b).then(function(a){console.log("response ",a),e.geoSearchResult=a.data},function(a){console.log("response ".response)})};e.geoSearch=s,k(),m(),o(),n(),l()}]);var SearchService=function(a){var b={},c="http://vmijob.cloudapp.net/api/busqueda";return b.search=function(){return a.get(c+"/jobsmes")},b.adSearch=function(b,d){return a({method:"PUT",url:c+"/"+b+"/avanzada",data:d,headers:{authorization:"bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}})},b.geoSearch=function(b,d){return a({method:"POST",url:c+"/"+b+"/geografica",data:d,headers:{authorization:"bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}})},b};angular.module("ijobApp").factory("SearchService",SearchService),SearchService.$inject=["$http"],angular.module("ijobApp").controller("ContactsCtrl",["ContactsService","SearchService","UserService","$location","$rootScope",function(a,b,c,d,e){var f=this;e.user.id||d.path("/"),f.jobs=[];var g=localStorage.getItem("id");f.idUser=g,f.contacts={active:[],pendingForAnswer:[],pendingToAnswer:[]},f.putResult={status:null,message:null},f.getActiveContacts=function(){a.getActiveContacts(g).then(function(){},function(){})};f.getPendingContacts=function(b){console.log("se enviará ..",b);a.getPending(g,b).then(function(a){console.log(b,a),a.data.codigo&&(a.data=[]),1===b&&(f.contacts.pendingForAnswer=a.data),2===b&&(f.contacts.pendingToAnswer=a.data)},function(a){})},f.getActiveContacts=function(){a.getActiveContacts(g).then(function(a){console.log("actives",a),f.contacts.active=a.data,h(a.data)},function(a){})};var h=function(a){angular.forEach(a,function(a,b){c.GetById(a._usuarioRecibe._id).then(function(a){console.log("finding real user => ",a)})})};f.doRequest=function(){f.requestResult="";var b={idUsuarioSolicita:f.idUser,idUsuarioRecibe:f.idUserTarget};a.postContact(g,b).then(function(a){console.log(a),f.requestResult=a.data},function(a){console.log(a),f.requestResult=a.data})},f.accept=function(a){i(a,1)},f.reject=function(a){i(a,2)};var i=function(b,c){var d={idContacto:b._id,estado:c,observacion:""};a.putContact(d).then(function(a){console.log(a),f.putResult.status="success",f.putResult.message=a.data.message},function(a){console.log(a),f.putResult.status="danger",f.putResult.message=a.data.message})};f.getPendingContacts(1),f.getPendingContacts(2),f.getActiveContacts()}]);var ContactsService=function(a){function b(b){return a({method:"GET",url:g+"/activos/"+b,headers:{authorization:"bearer "+localStorage.getItem("token")}})}function c(b,c){return console.log("uri => ",g+"/pendientes/"+b+"/"+c),a({method:"GET",url:g+"/pendientes/"+b+"/"+c,headers:{authorization:"bearer "+localStorage.getItem("token")}})}function d(b,c){return a({method:"POST",url:g,data:c,headers:{authorization:"bearer "+localStorage.getItem("token")}})}function e(b){return a({method:"PUT",url:g,data:b,headers:{authorization:"bearer "+localStorage.getItem("token")}})}var f={},g="http://vmijob.cloudapp.net/api/contactos";return f.getActiveContacts=b,f.getPending=c,f.postContact=d,f.putContact=e,f};angular.module("ijobApp").factory("ContactsService",ContactsService),ContactsService.$inject=["$http"],angular.module("ijobApp").controller("QualificationCtrl",["UserService","QualificationService",function(a,b){var c=this;c.qualifications={done:[],pending:[],received:[]};var d=function(a,d){var e={page:a,type:d};b.get(e).then(function(a){console.log("response",a),1===d&&(a.data.codigo?c.doneMessage=a.data.mensaje:c.qualifications.done=a.data),2===d&&(a.data.codigo?c.receivedMessage=a.data.mensaje:c.qualifications.received=a.data)},function(a){})},e=function(a){var d={page:a};b.getPending(d).then(function(a){console.log("response",a),a.data.codigo?c.pendingMessage=a.data.mensaje:c.qualifications.pending=a.data},function(a){})};c.qualify=function(a){var d={respeto:c.respect,puntualidad:c.punctuality,orientacion:c.orientation,idCalificacion:a._id,calidad:c.quality},e=!1;2===a.tipoCalificacion&&(e=c.respect&&c.punctuality&&c.orientation),1===a.tipoCalificacion&&(e=c.respect&&c.punctuality&&c.quality),e?b.qualify(d).then(function(a){console.log(a),a.data&&(c.qualify.message=a.data.message)},function(){}):alert("Debe indicar la calificación del usuario")},d(1,1),d(1,2),e(1)}]);var QualificationService=function(a,b){var c={},d="http://vmijob.cloudapp.net/api/",e=(localStorage.getItem("token"),localStorage.getItem("id")),f=function(b){return console.log(e,"5574cbead21d757c0a000002"),a({method:"GET",url:d+"calificaciones/realizadas/"+e+"/"+b.page+"/"+b.type,headers:{authorization:"bearer "+localStorage.getItem("token")}})},g=function(b){return a({method:"GET",url:d+"calificaciones/pendientes/"+e+"/"+b.page,headers:{authorization:"bearer "+localStorage.getItem("token")}})},h=function(b){return a({method:"PUT",data:b,url:d+"calificaciones/",headers:{authorization:"bearer "+localStorage.getItem("token")}})};return c.get=f,c.getPending=g,c.qualify=h,c};angular.module("ijobApp").factory("QualificationService",QualificationService),QualificationService.$inject=["$http"],angular.module("ijobApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/contacts.html",'<html lang="es"> <head> <meta charset="UTF-8"> <title>Contactos</title> <link rel="shortcut icon" href="../images/favicon.ico"> <link rel="stylesheet" type="text/css" href="http://netdna.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"> <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"> <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"> <link href="http://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" type="text/css"> <link rel="stylesheet" type="text/css" href="../styles/estilo.css"> <style type="text/css">table {\n			border-collapse:separate;\n			border-spacing: 15px;\n		}\n		\n		#nav{\n			top:132px;\n			padding-left:200px;\n			position:absolute;\n		}\n		\n		.color{\n			padding: 15px;\n			border: 2px solid #FF8000;\n			border-radius: 100px;\n			background: linear-gradient(0deg, #F7BE81, #FFFFFF);\n		}</style> </head> <body> <a href="../index.html"> <img id="img" class="img" src="../images/banner_int3.5e86ff97.png"> </a> <br> <br> <div> <p class="p1">Contactos</p> <br> <ul class="nav nav-tabs" role="tablist" id="myTabs"> <li role="presentation" class="active"> <a class="contac" href="#home" aria-controls="home" role="tab" data-toggle="tab">Solicitudes Enviadas ({{vm.contacts.pendingForAnswer.length}})</a> </li> <li role="presentation"> <a class="contac" href="#settings" aria-controls="settings" role="tab" data-toggle="tab">Solicitudes Recibidas ({{vm.contacts.pendingToAnswer.length}})</a> </li> <li role="presentation"> <a class="contac" href="#profile" aria-controls="profile" role="tab" data-toggle="tab">Lista de Contactos ({{vm.contacts.active.length}})</a> </li> <!--<li role="presentation">\n		      	<a class="contac" href="#messages" aria-controls="messages" role="tab" data-toggle="tab">Nueva Solicitud</a>\n		    </li>--> </ul> <div class="tab-content"> <div role="tabpanel" class="tab-pane active" id="home"> <br> <br> <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true"> <div class="panel panel-default" ng-repeat="enviada in vm.contacts.pendingForAnswer"> <div class="panel-heading" role="tab" id="headingOne"> <h4 class="panel-title"> <a class="contac" role="button" ng-if="enviada._usuarioRecibe" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne"> {{enviada._usuarioRecibe.nombre}} {{enviada._usuarioRecibe.apellidos}} </a> <span class="panel-title" ng-if="!enviada._usuarioRecibe" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne"> Nombre De Usuario Desconocido </span> <i class="pull-right">Enviado El: {{enviada.fecha}}</i> </h4> </div> <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne"> <div class="panel-body">{{enviada.observaciones}}</div> </div> </div> </div> </div> <div role="tabpanel" class="tab-pane" id="profile"> <br> <br> <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true"> <div class="panel panel-default" ng-repeat="enviada in vm.contacts.active"> <div class="panel-heading" role="tab" id="headingOne"> <h4 class="panel-title"> <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne"> {{enviada._usuarioRecibe.nombre}} {{enviada._usuarioRecibe.apellidos}} </a> <i class="pull-right">Enviado En: {{enviada._usuarioRecibe.creado}}</i> </h4> </div> <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne"> <div class="panel-body"> <div class="col-lg-6"> <span>{{enviada._usuarioRecibe.nombre}} {{enviada._usuarioRecibe.apellidos}}</span> <br> <span>{{enviada._usuarioRecibe.correo}}</span> <br> <p>{{enviada._usuarioRecibe.descripcion}}</p> </div> </div> </div> </div> </div> </div> <div role="tabpanel" class="tab-pane" id="settings"> <br> <a class="p3">Recibidas</a> <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true"> <div class="panel panel-default" ng-repeat="enviada in vm.contacts.pendingToAnswer"> <div class="panel-heading" role="tab" id="headingOne"> <h4 class="panel-title"> <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne"> {{enviada._usuarioSolicita.nombre}} {{enviada._usuarioSolicita.apellidos}} </a> <i class="pull-right">Enviado En: {{enviada._usuarioSolicita.creado}}</i> </h4> </div> <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne"> <div class="panel-body"> <div class="col-lg-6"> <span>{{enviada._usuarioSolicita.nombre}} {{enviada._usuarioSolicita.apellidos}}</span> <br> <span>{{enviada._usuarioSolicita.correo}}</span> <br> <p>{{enviada._usuarioSolicita.descripcion}}</p> </div> <div class="col-lg-12"> <button class="btn" ng-click="vm.accept(enviada)">Aceptar</button> </div> </div> </div> </div> </div> <div class="alert alert-{{vm.putResult.status}}" role="alert">{{vm.putResult.message}}</div> </div> </div> </div> <script>$(document).ready(function () {\n		    $(\'#accordion\').collapse();\n	    	$(\'#accordion a\').click(function (e) {e.preventDefault()});\n	    	$(\'#myTabs a\').click(function (e) {e.preventDefault()\n	      	$(this).tab(\'show\')\n	    	})\n	  	});</script> </body> </html>'),a.put("views/login.html",'<html lang="es"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1"> <title>Iniciar Sesion</title> <link rel="shortcut icon" href="../images/favicon.ico"> <link rel="stylesheet" type="text/css" href="http://netdna.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"> <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"> <link href="http://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" type="text/css"> <link rel="stylesheet" type="text/css" href="../styles/estilo.css"> <link rel="stylesheet" type="text/css" href="../styles/main.css"> </head> <body> <a href="../index.html"> <img id="img" class="img" src="../images/banner_int2.1196e489.png"> </a> <br> <br> <div class="well"> <div class="logo" align="center">Inicio De Sesion</div> <br> <form name="form" ng-submit="vm.login()" role="form" class="form"> <div class="form-group" ng-class="{ \'has-error\': form.username.$dirty && form.username.$error.required }"> <label for="username" class="sr-only">Correo</label> <input type="text" name="username" id="username" placeholder="Correo" class="form-control" ng-model="vm.username" required> <span ng-show="form.username.$dirty && form.username.$error.required" class="help-block">Username is required</span> </div> <div class="form-group" ng-class="{ \'has-error\': form.password.$dirty && form.password.$error.required }"> <label for="password" class="sr-only">Contraseña</label> <input type="password" name="password" id="password" placeholder="Contraseña" class="form-control" ng-model="vm.password" required> <span ng-show="form.password.$dirty && form.password.$error.required" class="help-block">Contraseña es Obligatoria</span> </div> <div class="form-actions" align="center"> <button type="submit" ng-disabled="form.$invalid || vm.dataLoading" class="img2" name="iniciar"> <img src="images/ingreso.7c288799.png" width="30" height="30"> </button> <img ng-if="vm.dataLoading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="> </div> </form> <div align="center"> <a href="#!remember" class="">¿Olvidó Su Contraseña?</a> <a href="#!/register" class="reg1 registro">¿Aún No Está Registrado?</a> </div> <div class="{{vm.msg.className}}">{{vm.msg.content}}</div> </div> <br></body></html>'),
a.put("views/main.html",'<html> <head> <meta charset="UTF-8"> <title>Inicio</title> <link rel="shortcut icon" href="../images/favicon.ico"> <link rel="stylesheet" type="text/css" href="http://netdna.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"> <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"> <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"> <link href="http://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" type="text/css"> <link rel="stylesheet" type="text/css" href="../styles/estilo.css"> <link rel="stylesheet" type="text/css" href="../styles/carrusel.css"> <style type="text/css">.color{\n			padding: 15px;\n			border: 2px solid #FF8000;\n			border-radius: 100px;\n			background: linear-gradient(0deg, #F7BE81, #FFFFFF);\n		}\n		\n		.fsRequest{\n			border: 1px solid;\n			border-radius: 20px 0px 20px 0px;\n			padding: 8px;\n			color: #ff8000;\n		}\n\n		.fsRequest:hover{\n			color: black;\n		}\n		\n		.jobs-container{\n			margin-top:300px;\n		}</style> </head> <body> <div class="demo-cont" ng-show="!vm.jobs.length"> <div class="fnc-slider example-slider"> <div class="fnc-slider__slides"> <div class="fnc-slide m--blend-green m--active-slide"> <div class="fnc-slide__inner"> <div class="fnc-slide__mask"> <div class="fnc-slide__mask-inner"></div> </div> <div class="fnc-slide__content"> <h2 class="fnc-slide__heading"> <div class="fnc-slide__heading-line"> <span>Empresas y</span> </div> <div class="fnc-slide__heading-line"> <span>Compañias</span> </div> </h2> <button type="button" class="fnc-slide__action-btn"> Quienes Somos <span data-text="Quienes Somos">Quienes Somos</span> </button> </div> </div> </div> <div class="fnc-slide m--blend-dark"> <div class="fnc-slide__inner"> <div class="fnc-slide__mask"> <div class="fnc-slide__mask-inner"></div> </div> <div class="fnc-slide__content"> <h2 class="fnc-slide__heading"> <div class="fnc-slide__heading-line"> <span>Trabajadores</span> </div> <div class="fnc-slide__heading-line"> <span>y Empleados</span> </div> </h2> <button type="button" class="fnc-slide__action-btn"> Quienes Somos <span data-text="Quienes Somos">Quienes Somos</span> </button> </div> </div> </div> <div class="fnc-slide m--blend-red"> <div class="fnc-slide__inner"> <div class="fnc-slide__mask"> <div class="fnc-slide__mask-inner"></div> </div> <div class="fnc-slide__content"> <h2 class="fnc-slide__heading"> <div class="fnc-slide__heading-line"> <span>Tiempo</span> </div> <div class="fnc-slide__heading-line"> <span>Completo</span> </div> </h2> <button type="button" class="fnc-slide__action-btn"> Quienes Somos <span data-text="Quienes Somos">Quienes Somos</span> </button> </div> </div> </div> <div class="fnc-slide m--blend-blue"> <div class="fnc-slide__inner"> <div class="fnc-slide__mask"> <div class="fnc-slide__mask-inner"></div> </div> <div class="fnc-slide__content"> <h2 class="fnc-slide__heading"> <div class="fnc-slide__heading-line"> <span>Medio</span> </div> <div class="fnc-slide__heading-line"> <span>Tiempo</span> </div> </h2> <button type="button" class="fnc-slide__action-btn"> Quienes Somos <span data-text="Quienes Somos">Quienes Somos</span> </button> </div> </div> </div> </div> <nav class="fnc-nav"> <div class="fnc-nav__bgs"> <div class="fnc-nav__bg m--navbg-green m--active-nav-bg"></div> <div class="fnc-nav__bg m--navbg-dark"></div> <div class="fnc-nav__bg m--navbg-red"></div> <div class="fnc-nav__bg m--navbg-blue"></div> </div> <div class="fnc-nav__controls"> <button class="fnc-nav__control"> Admin <span class="fnc-nav__control-progress"></span> </button> <button class="fnc-nav__control"> TI <span class="fnc-nav__control-progress"></span> </button> <button class="fnc-nav__control"> Mechanics <span class="fnc-nav__control-progress"></span> </button> <button class="fnc-nav__control"> Building <span class="fnc-nav__control-progress"></span> </button> </div> </nav> </div> <div class="demo-cont__credits" align="center"> <div class="demo-cont__credits-close"></div> <br> <br> <img src="img/logo_b.png"> <br> <br> </div> </div> <div ng-if="vm.jobs.length > 0"> <h2>IJob - Buscando Talentos</h2> <br> <div class="content-all"> <div class="content-carrousel"> <figure><img src="../img/img1.jpg"></figure> <figure><img src="../img/img2.jpg"></figure> <figure><img src="../img/img3.jpg"></figure> <figure><img src="../img/img4.jpg"></figure> <figure><img src="../img/img5.jpg"></figure> <figure><img src="../img/img6.jpg"></figure> <figure><img src="../img/img7.jpg"></figure> <figure><img src="../img/img8.jpg"></figure> <figure><img src="../img/img9.jpg"></figure> <figure><img src="../img/img10.jpg"></figure> </div> </div> </div> <div class="jobs-container"> <div class="row text-center"> <span class="text-danger" ng-if="vm.searchResult">{{vm.searchResult}}</span> <p class="p1"><i><span ng-if="vm.jobs.length > 0">Usuarios Top{{vm.jobs.length}}</span></i></p> </div> <div class="job-item" ng-repeat="job in vm.jobs"> <div class="well"> <div class="row"> <div class="col-lg-4"> <img src="{{job.srcImage}}" class="img-thumbnail" width="240"> </div> <div class="col-lg-6"> <div class="row"> <div class="col-lg-4"> <strong>Nombres</strong> </div> <div class="col-lg-8"> {{job.nombre}} </div> </div> <div class="row"> <div class="col-lg-4"> <strong>Apellidos</strong> </div> <div class="col-lg-8"> {{job.apellidos}} </div> </div> <hr> <div class="row"> <div class="col-lg-4"> <strong>Ubicación</strong> </div> <div class="col-lg-8"> {{job._ubicacion.municipio}},{{job._ubicacion.pais}} </div> </div> <div class="row"> <div class="col-lg-4"> <strong>Calificaciones</strong> </div> <div class="col-lg-8"> <span ng-if="job.calificaciones">{{job.calificaciones}}</span> <span ng-if="!job.calificaciones">0</span> </div> </div> <hr> <div ng-repeat="ocup in job.ocupaciones"> <div class="row"> <div class="col-lg-4"> <strong>Ocupación</strong> </div> <div class="col-lg-8"> {{ocup._ocupacion.nombre}} </div> </div> <div class="row"> <div class="col-lg-4"> <strong>Tipo</strong> </div> <div class="col-lg-8"> <span ng-if="ocup.tipo === 1">Actividad Principal</span> <span ng-if="ocup.tipo === 2">Actividad Secundaria</span> </div> </div> <div class="row"> <div class="col-lg-4"> <strong>Experiencia</strong> </div> <div class="col-lg-8"> {{ocup.experiencia}} </div> </div> </div> <br> <div class="row"> <div class="col-lg-4"> <strong></strong> </div> <div class="col-lg-8"> <a class="fsRequest" ng-disabled="job.isDoingRequest" ng-click="vm.doRequest(job)">{{job.requestText}}</a> </div> </div> <br> </div> </div> </div> <hr> </div> </div> <script src="../scripts/index.js"></script> </body> </html>'),a.put("views/profile.html",'<html lang="es"> <head> <meta charset="UTF-8"> <title>Perfil</title> <link rel="shortcut icon" href="../images/favicon.ico"> <link rel="stylesheet" type="text/css" href="http://netdna.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"> <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"> <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"> <link href="http://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" type="text/css"> <link rel="stylesheet" type="text/css" href="../styles/estilo.css"> </head> <body class="bod"> <a href="../index.html"> <img id="img" class="img" src="../images/banner_int1.f9c9cedb.png"> </a> <br> <br> <form ng-submit="vm.updateUser()" role="form"> <div class="userInfo"> <div class="col-lg-3"> <img ng-if="vm.dataLoading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="> <label class="userImage"> <img class="estado" ng-if="!vm.dataLoading" ngf-thumbnail="vm.user.image || vm.defaultImage "> <input class="est" type="file" ngf-select ngf-pattern="\'image/*\'" ng-model="vm.user.image" ngf-accept="\'image/*\'" ngf-max-size="20MB" hidden ngf-min-height="100" ngf-resize="{width: 100, height: 100}"> </label> <span id="p">Estado: <strong>{{vm.user.Status.nombre}}</strong></span> <p id="pq" class="text-success" ng-if="vm.msg.success">{{vm.msg.success}}</p> <p id="pq" class="text-danger" ng-if="vm.msg.error">{{vm.msg.error}}</p> </div> <div class="col-lg-9"> <fieldset> <p class="p2">Datos Personales</p> <span class="car" ng-show="vm.dataLoading">Cargando Información...</span> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Correo Electrónico</label> <div class="col-sm-5"> <input class="form-control" type="email" disabled placeholder="correo electrónico" ng-model="vm.user.correo"> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Nombres</label> <div class="col-sm-5"> <input class="form-control" type="text" placeholder="Nombres" ng-model="vm.user.nombre"> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Apellidos</label> <div class="col-sm-5"> <input class="form-control" type="text" placeholder="Apellidos" ng-model="vm.user.apellidos"> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Fecha De Nacimiento</label> <div class="col-sm-5"> <input class="form-control" type="date" ng-model="vm.user.nacimiento"> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Genero</label> <div class="col-sm-5"> <select class="form-control" name="genero" ng-model="vm.user.genero" ng-options="i.codigo as (i.nombre) for i in vm.Genero"></select> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Identificación</label> <div class="col-sm-5"> <input class="form-control" type="text" placeholder="Identificación" ng-model="vm.user.cedula"> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Mi Nivel Educativo</label> <div class="col-sm-5"> <select class="form-control" name="educativo" ng-model="vm.user.escolaridad" ng-options="i.codigo as (i.nombre) for i in vm.escolaridad"></select> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Descripción</label> <div class="col-sm-5"> <textarea class="form-control" name="cursos" cols="23" ng-model="vm.user.descripcion"></textarea> </div> </div> </fieldset> <fieldset> <p class="p2">Ubicación</p> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Departamento</label> <div class="col-sm-5"> <select class="form-control" ng-model="vm.user.departamento" ng-options="i.departamento as (i.departamento) for i in vm.ubicaciones"></select> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Ciudad</label> <div class="col-sm-5"> <select class="form-control" ng-model="vm.user.ciudad" ng-options="i.municipio as (i.municipio) for i in vm.ubicaciones | filter:{ departamento: vm.user.departamento }"></select> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Dirección</label> <div class="col-sm-5"> <input type="text" class="form-control" placeholder="Dirección de domicilio"> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Pueden Contarcarme Vía</label> <div class="check"> <label class="checkbox-inline"> <input type="checkbox" id="inlineCheckbox1" value="option1"> Correo </label> <label class="checkbox-inline"> <input type="checkbox" id="inlineCheckbox2" value="option2"> Teléfono </label> <label class="checkbox-inline"> <input type="checkbox" id="inlineCheckbox3" value="option3"> WhatsApp </label> </div> </div> </fieldset> <fieldset ng-if="vm.user.canAddOcupacion"> <p class="p2">Ocupaciones</p> <div class="col-sm-12" ng-if="vm.user.ocupaciones.length < 3"> <p> <i>Es Posible Agregar Hasta 3 Ocupaciones.</i> <br> <a class="btn2" ng-click="vm.addOcupacion()">+ Ocupación</a> </p> </div> <div ng-repeat="ocupacion in vm.user.ocupaciones"> <div class="form-group"> <div class="col-sm-4"> <strong>Tipo</strong></div> <div class="col-sm-8"> <label class="radio-inline"> <input type="radio" name="tipoOcupacion_{{ocupacion._id}}" ng-value="1" ng-model="ocupacion.tipo"> Principal </label> <label class="radio-inline"> <input type="radio" name="tipoOcupacion_{{ocupacion._id}}" ng-value="2" ng-model="ocupacion.tipo"> Secundaria </label> </div> </div> <div class="form-group"> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Sector</label> <div class="col-sm-5"> <select class="form-control" ng-model="ocupacion.idSector" ng-options="i._id as (i.nombre) for i in vm.sectores"></select> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Mi Trabajo Consiste En</label> <div class="col-sm-5"> <select class="form-control" ng-model="ocupacion.idOcupacion" ng-options="i._id as (i.nombre) for i in vm.ocupaciones | filter:{_sector:ocupacion.idSector }"></select> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Años De Experiencia</label> <div class="col-sm-5"> <input class="form-control" type="number" placeholder="años de experiencia" ng-model="ocupacion.experiencia"> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">He Tomado Estos Cursos</label> <div class="col-sm-5"> <textarea class="form-control" name="cursos" cols="23" ng-model="ocupacion.cursos"></textarea> <input type="hidden" ng-model="ocupacion._id"> </div> </div> <div class="form-group"> <div class="col-sm-5"></div> <div class="col-sm-5"> <a title="Eliminar Ocupación" class="text-danger pull-right" ng-click="vm.deleteOcupacion(ocupacion)"><i class="glyphicon glyphicon-trash"></i></a> </div> </div> </div> </fieldset> <fieldset ng-if="vm.user.canAddDispobilidad"> <p class="p2">Disponibilidad</p> <div class="form-group"> <div class="col-sm-4"> <label>Estado De Disponilidad</label> </div> <div class="col-sm-4"> <input type="checkbox" ng-model="vm.user.disponible"> <span ng-if="vm.user.disponible">Activada</span> <span ng-if="!vm.user.disponible">Desactivada</span> </div> </div> </fieldset> </div> <div class="col-lg-offset-5"> <input type="submit" value="Guardar" class="btn btn-success" ng-disabled="vm.dataLoading"> <a href="#/" class="btn btn-default" ng-disabled="vm.dataLoading">Cancelar</a> </div> </div> </form> </body> </html>'),a.put("views/qualification.html",'<html lang="es"> <head> <meta charset="UTF-8"> <title>Busqueda</title> <link rel="shortcut icon" href="../images/favicon.ico"> <link rel="stylesheet" type="text/css" href="http://netdna.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"> <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"> <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"> <link href="http://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" type="text/css"> <link rel="stylesheet" type="text/css" href="../styles/estilo.css"> <style type="text/css">table {\n			border-collapse:separate;\n			border-spacing: 15px;\n		}\n		\n		#nav{\n			top:132px;\n			padding-left:200px;\n			position:absolute;\n		}\n		\n		.color{\n			padding: 15px;\n			border: 2px solid #FF8000;\n			border-radius: 100px;\n			background: linear-gradient(0deg, #F7BE81, #FFFFFF);\n		}</style> </head> <body class="bod"> <a href="../index.html"> <img id="img" class="img" src="../images/banner_int1.f9c9cedb.png"> </a> <br> <br> <div> <p class="p1">Calificaciones</p> <br> <ul class="nav nav-tabs" role="tablist" id="myTabs"> <li role="presentation" class="active"> <a class="contac" href="#home" aria-controls="home" role="tab" data-toggle="tab">Calificaciones Realizadas ({{vm.qualifications.done.length}})</a> </li> <li role="presentation"> <a class="contac" href="#profile" aria-controls="profile" role="tab" data-toggle="tab">Calificaciones Recibidas ({{vm.qualifications.received.length}})</a> </li> <li role="presentation"> <a class="contac" href="#settings" aria-controls="settings" role="tab" data-toggle="tab">Calificaciones Pendientes ({{vm.qualifications.pending.length}})</a> </li> </ul> <div class="tab-content"> <div role="tabpanel" class="tab-pane active" id="home"> <br> <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true"> {{vm.doneMessage}} <div class="panel panel-default" ng-repeat="enviada in vm.qualifications.done"> <div class="panel-heading" role="tab" id="headingOne"> <h4 class="panel-title"> <a role="button" ng-if="enviada._usuarioRecibe" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne"> {{enviada._usuarioRecibe.nombre}} {{enviada._usuarioRecibe.apellidos}} </a> <span ng-if="!enviada._usuarioRecibe" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne"> Nombre De Usuario Desconocido </span> <i class="pull-right">Enviado En: {{enviada.fecha}}</i> </h4> </div> <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne"> <div class="panel-body"> <div class="col-lg-12" ng-if="enviada.tipoCalificacion === 2"> <dl class="dl-horizontal"> <dt>Respeto:</dt> <dd>{{enviada.respeto}}</dd> <dt>Puntualidad:</dt> <dd>{{enviada.puntualidad}}</dd> <dt>Orientacion:</dt> <dd>{{enviada.orientacion}}</dd> </dl> </div> <div class="col-lg-12" align="center" ng-if="enviada.tipoCalificacion === 1"> <dl class="dl-horizontal"> <dt>Respeto:</dt> <dd>{{enviada.respeto}}</dd> <dt>Puntualidad:</dt> <dd>{{enviada.puntualidad}}</dd> <dt>Calidad:</dt> <dd>{{enviada.calidad}}</dd> </dl> </div> </div> </div> </div> </div> </div> <div role="tabpanel" class="tab-pane" id="profile"> <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true"> {{vm.receivedMessage}} <div class="panel panel-default" ng-repeat="enviada in vm.qualifications.received"> <div class="panel-heading" role="tab" id="headingOne"> <h4 class="panel-title"> <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne"> {{enviada._usuarioOtorga.nombre}} {{enviada._usuarioOtorga.apellidos}} </a> <i class="pull-right">enviado en: {{enviada._usuarioOtorga.creado}}</i> </h4> </div> <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne"> <div class="panel-body"> <div class="col-lg-6"> <span>{{enviada._usuarioOtorga.nombre}} {{enviada._usuarioOtorga.apellidos}}</span> <br> <span>{{enviada._usuarioOtorga.correo}}</span> <br> <p>{{enviada._usuarioOtorga.descripcion}}</p> </div> <div class="col-lg-12" ng-if="enviada.tipoCalificacion === 2"> <dl class="dl-horizontal"> <dt>Respeto:</dt> <dd><img src="../images/star.be8080a3.png"><p class="nu">{{enviada.respeto}}</p></dd> <dt>Puntualidad:</dt> <dd><img src="../images/star.be8080a3.png"><p class="nu">{{enviada.puntualidad}}</p></dd> <dt>Orientacion:</dt> <dd><img src="../images/star.be8080a3.png"><p class="nu">{{enviada.orientacion}}</p></dd> </dl> </div> <div class="col-lg-12" ng-if="enviada.tipoCalificacion === 1"> <dl class="dl-horizontal"> <dt>Respeto:</dt> <dd><img src="../images/star.be8080a3.png"><p class="nu">{{enviada.respeto}}</p></dd> <dt>Puntualidad:</dt> <dd><img src="../images/star.be8080a3.png"><p class="nu">{{enviada.puntualidad}}</p></dd> <dt>Calidad:</dt> <dd><img src="../images/star.be8080a3.png"><p class="nu">{{enviada.calidad}}</p></dd> </dl> </div> </div> </div> </div> </div> </div> <div role="tabpanel" class="tab-pane" id="settings"> {{vm.pendingMessage}} <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true"> <div class="panel panel-default" ng-repeat="enviada in vm.qualifications.pending"> <div class="panel-heading" role="tab" id="headingOne"> <h4 class="panel-title"> <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne"> {{enviada._usuarioRecibe.nombre}} {{enviada._usuarioRecibe.apellidos}} </a> <i class="pull-right">enviado en: {{enviada._usuarioRecibe.creado}}</i> </h4> </div> <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne"> <div class="panel-body"> <div class="col-lg-6"> <span>{{enviada._usuarioRecibe.nombre}} {{enviada._usuarioRecibe.apellidos}}</span> <br> <span>{{enviada._usuarioRecibe.correo}}</span> <br> <p>{{enviada._usuarioRecibe.descripcion}}</p> </div> <div class="col-lg-11" ng-if="enviada.tipoCalificacion === 2"> <div class="well"> <div> <fieldset>Respeto </fieldset> <label class="radio-inline"> <input type="radio" ng-model="vm.respect" id="inlineRadio1" value="1"> 1 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.respect" id="inlineRadio2" value="2"> 2 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.respect" id="inlineRadio3" value="3"> 3 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.respect" id="inlineRadio3" value="4"> 4 </label> </div> <hr> <div> <fieldset>Puntualidad </fieldset> <label class="radio-inline"> <input type="radio" ng-model="vm.punctuality" id="inlineRadio1" value="1"> 1 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.punctuality" id="inlineRadio2" value="2"> 2 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.punctuality" id="inlineRadio3" value="3"> 3 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.punctuality" id="inlineRadio3" value="4"> 4 </label> </div> <hr> <div> <fieldset>Orientación </fieldset> <label class="radio-inline"> <input type="radio" ng-model="vm.orientation" id="inlineRadio1" value="1"> 1 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.orientation" id="inlineRadio2" value="2"> 2 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.orientation" id="inlineRadio3" value="3"> 3 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.orientation" id="inlineRadio3" value="4"> 4 </label> </div> </div> <button class="btn btn-info" ng-click="vm.qualify(enviada._id)">Calificar</button> <span>{{vm.qualify.message}}</span> </div> <div class="col-lg-12" ng-if="enviada.tipoCalificacion === 1"> <div class="well"> <div> <fieldset>Respeto </fieldset> <label class="radio-inline"> <input type="radio" ng-model="vm.respect" id="inlineRadio1" value="1"> 1 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.respect" id="inlineRadio2" value="2"> 2 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.respect" id="inlineRadio3" value="3"> 3 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.respect" id="inlineRadio3" value="4"> 4 </label> </div> <hr> <div> <fieldset>Puntualidad </fieldset> <label class="radio-inline"> <input type="radio" ng-model="vm.punctuality" id="inlineRadio1" value="1"> 1 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.punctuality" id="inlineRadio2" value="2"> 2 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.punctuality" id="inlineRadio3" value="3"> 3 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.punctuality" id="inlineRadio3" value="4"> 4 </label> </div> <hr> <div> <fieldset>Calidad </fieldset> <label class="radio-inline"> <input type="radio" ng-model="vm.quality" id="inlineRadio1" value="1"> 1 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.quality" id="inlineRadio2" value="2"> 2 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.quality" id="inlineRadio3" value="3"> 3 </label> <label class="radio-inline"> <input type="radio" ng-model="vm.quality" id="inlineRadio3" value="4"> 4 </label> </div> </div> <button class="btn btn-info" ng-click="vm.qualify(enviada)">Calificar</button> <span>{{vm.qualify.message}}</span> </div> </div> </div> </div> </div> <div class="alert alert-{{vm.putResult.status}}" role="alert">{{vm.putResult.message}}</div> </div> </div> </div> <script>$(document).ready(function () {\n    $(\'#accordion\').collapse();\n    $(\'#accordion a\').click(function (e) {\n      e.preventDefault()\n    });\n    $(\'#myTabs a\').click(function (e) {\n      e.preventDefault()\n      $(this).tab(\'show\')\n    })\n  });</script> </body> </html>'),a.put("views/register.html",'<html lang="es"> <head> <meta charset="UTF-8"> <title>Perfil</title> <link rel="shortcut icon" href="../images/favicon.ico"> <link rel="stylesheet" type="text/css" href="http://netdna.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"> <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"> <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"> <link href="http://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" type="text/css"> <link rel="stylesheet" type="text/css" href="../styles/estilo.css"> </head> <body> <a href="../index.html"> <img id="img" class="img" src="../images/banner_int4.18b8b141.png"> </a> <br> <br> <div class="well"> <fieldset> <p class="p1">Formulario De Registro</p> <form name="form" ng-submit="vm.register()" role="form" class="formulario"> <div class="form-group" ng-class="{ \'has-error\': form.nombre.$dirty && form.nombre.$error.required }"> <label for="correo" class="sr-only">Primer Nombre</label> <input type="text" name="nombre" id="nombre" placeholder="Primer Nombre" class="form-control" ng-model="vm.user.nombre" required> <span ng-show="form.nombre.$dirty && form.nombre.$error.required" class="help-block">Nombre es requerido</span> </div> <div class="form-group" ng-class="{ \'has-error\': form.apellidos.$dirty && form.apellidos.$error.required }"> <label for="correo" class="sr-only">Apellidos</label> <input type="text" name="apellidos" id="apellidos" placeholder="Apellidos" class="form-control" ng-model="vm.user.apellidos" required> <span ng-show="form.apellidos.$dirty && form.apellidos.$error.required" class="help-block">Apellido es requerido</span> </div> <div class="form-group" ng-class="{ \'has-error\': form.correo.$dirty && form.correo.$error.required }"> <label for="correo" class="sr-only">Correo</label> <input type="text" name="correo" id="correo" placeholder="Correo" class="form-control" ng-model="vm.user.correo" required> <span ng-show="form.correo.$dirty && form.correo.$error.required" class="help-block">Correo es requerido</span> </div> <div class="form-group" ng-class="{ \'has-error\': form.clave.$dirty && form.clave.$error.required }"> <label for="correo" class="sr-only">Clave</label> <input type="password" name="clave" id="clave" placeholder="Clave" class="form-control" ng-model="vm.user.clave" required> <span ng-show="form.clave.$dirty && form.clave.$error.required" class="help-block">Contraseña es requerido</span> </div> <div class="form-group" ng-class="{ \'has-error\': form.nacimiento.$dirty && form.nacimiento.$error.required }"> <label for="correo" class="sr-only">Fecha Nacimiento</label> <input type="text" name="nacimiento" id="nacimiento" placeholder="Fecha De Nacimiento" class="form-control" ng-model="vm.user.nacimiento" required> <span ng-show="form.nacimiento.$dirty && form.nacimiento.$error.required" class="help-block">Fecha Nacimiento es Requerida</span> </div> <div class="form-group" ng-class="{ \'has-error\': form.genero.$dirty && form.genero.$error.required }"> <label for="correo" id="clas">Genero</label> <select name="genero" id="genero" class="form-control" ng-model="vm.user.genero"> <option ng-repeat="option in vm.Genero" value="{{option.codigo}}">{{option.nombre}}</option> </select> <span ng-show="form.genero.$dirty && form.genero.$error.required" class="help-block">Genero es requerido</span> </div> <div id="pr" class="form-group" ng-class="{ \'has-error\': form.rol.$dirty && form.rol.$error.required }"> <label for="correo" id="clas">Rol</label> <img class="img1" src="../images/rol.9b6c9d76.png"> <div ng-repeat="option in vm.Roles"> <label for="correo" id="clas2">{{option.nombre}}</label> <input id="radio" type="radio" name="role" value="{{option.codigo}}"> </div> <!--<select name="rol" id="rol" class="form-control" ng-model="vm.user.rol">\n						<option ng-repeat="option in vm.Roles" value="{{option.codigo}}">{{option.nombre}}</option>\n					</select>--> <span ng-show="form.rol.$dirty && form.rol.$error.required" class="help-block">Rol es Requerido</span> </div> <div class="form-group" ng-class="{ \'has-error\': form.metodoRegistro.$dirty && form.metodoRegistro.$error.required }"> <label for="correo" id="clas" ng-if="false">Metodo de Registro</label> <select name="metodoRegistro" id="metodoRegistro" ng-if="false" class="form-control" ng-model="vm.user.metodoRegistro"> <option ng-repeat="option in vm.MetodoRegistro" value="{{option.codigo}}">{{option.nombre}}</option> </select> <span ng-show="form.metodoRegistro.$dirty && form.metodoRegistro.$error.required" class="help-block">Metodo De Registro Es Requerido.</span> </div> <div class="form-actions" align="center"> <button type="submit" ng-disabled="form.$invalid || vm.dataLoading" class="btn btn-default">Registrar</button> <img ng-if="vm.dataLoading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="> <a href="#!/login" class="btn btn-default">Cancelar</a> </div> </form> <div class="{{vm.msg.className}}">{{vm.msg.content}}</div> </fieldset> </div> </body> </html>'),a.put("views/remember.html",'<html lang="es"> <head> <meta charset="UTF-8"> <title>Busqueda</title> <link rel="shortcut icon" href="../images/favicon.ico"> <link rel="stylesheet" type="text/css" href="http://netdna.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"> <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"> <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"> <link href="http://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" type="text/css"> <link rel="stylesheet" type="text/css" href="../styles/estilo.css"> </head> <body> <a href="../index.html"> <img id="img" src="../images/banner_int2.1196e489.png"> </a> <br> <br> <form ng-submit="vm.remember()" role="form" class="form-horizontal"> <div class="well"> <br> <p class="p1" align="center">Por favor Digite La Cuenta De Correo<br>Con La Que Realizó El Registro En IJob</p> <div class="form-group" ng-class="{ \'has-error\': form.password.$dirty && form.password.$error.required }"> <br> <input type="email" ng-disabled="vm.sended" required ng-model="vm.email" class="form-control" placeholder="Correo Electrónico"> <br> <div align="center"> <input type="submit" ng-disabled="vm.sended" class="btn btn-success" value="Confirmar"> <input type="button" class="btn btn-default" value="Cancelar" ng-click="vm.cancel()"> <span ng-show="form.password.$dirty && form.password.$error.required" class="help-block">El Email Es Obligatorio</span> </div> </div> </div> </form> <div class="{{vm.msg.className}}">{{vm.msg.content}}</div> </body> </html>'),
a.put("views/search.html",'<html lang="es"> <head> <meta charset="UTF-8"> <title>Busqueda</title> <link rel="shortcut icon" href="../images/favicon.ico"> <link rel="stylesheet" type="text/css" href="http://netdna.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"> <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"> <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"> <link href="http://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" type="text/css"> <link rel="stylesheet" type="text/css" href="../styles/estilo.css"> <style type="text/css">table {\n			border-collapse:separate;\n			border-spacing: 15px;\n		}\n		\n		#nav{\n			top:132px;\n			padding-left:200px;\n			position:absolute;\n		}\n		\n		.color{\n			padding: 15px;\n			border: 2px solid #FF8000;\n			border-radius: 100px;\n			background: linear-gradient(0deg, #F7BE81, #FFFFFF);\n		}\n		\n		.fsRequest{\n			border: 1px solid;\n			border-radius: 20px 0px 20px 0px;\n			padding: 8px;\n			color: #ff8000;\n		}\n\n		.fsRequest:hover{\n			color: black;\n		}</style> </head> <body> <a href="../index.html"> <img id="img" class="img" src="../images/banner_int3.5e86ff97.png"> </a> <br> <br> <div class="well"> <p class="p1">Buscar</p> <div class="input-group"> <input type="text" class="control" placeholder="Search For..."> </div> <div align="center"> <button class="btn" ng-click="vm.searchJobs()" type="button">Buscar</button> <button class="btn" ng-click="vm.advanced = !vm.advanced" type="button">Busqueda Avanzada>></button> <button class="btn" ng-click="vm.searchGeografica()" type="button">Busqueda Geográfica!</button> </div> <br> <div ng-if="vm.geografica"> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Categoría</label> <div class="col-sm-7"> <select class="form-control" ng-model="vm.search.idSector" ng-options="i._id as (i.nombre) for i in vm.sectores"> </select> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Ocupación</label> <div class="col-sm-7"> <select class="form-control" ng-model="vm.search.geoOcupacion" ng-options="i._id as (i.nombre) for i in vm.ocupaciones | filter:{_sector:vm.search.idSector }"> </select> <br> <input type="button" value="Aceptar" class="btn4" ng-disabled="vm.dataLoading" ng-click="vm.geoSearch()"> <div>{{vm.geoSearchResult}}</div> </div> </div> <hr> <div id="map"></div> </div> <form class="form" role="form" ng-submit="vm.advancedSearch()" ng-if="vm.advanced"> <div class="form-group" id="cat"> <label for="inputEmail3" class="col-sm-4 control-label">Categoría</label> <div class="col-sm-7"> <select id="select" class="form-control" ng-model="vm.search.idSector" ng-options="i._id as (i.nombre) for i in vm.sectores"></select> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Ocupación</label> <div class="col-sm-7"> <select id="select" class="form-control" ng-model="vm.search.idOcupacion" ng-options="i._id as (i.nombre) for i in vm.ocupaciones | filter:{_sector:vm.search.idSector }"></select> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Departamento</label> <div class="col-sm-7"> <select id="select" class="form-control" ng-model="vm.search.departamento" ng-options="i.departamento as (i.departamento) for i in vm.ubicaciones"></select> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Ciudad</label> <div class="col-sm-7"> <select id="select" class="form-control" ng-model="vm.search.ciudad" ng-options="i._id as (i.municipio) for i in vm.ubicaciones | filter:{ departamento: vm.search.departamento }"></select> </div> </div> <div class="form-group"> <label for="inputEmail3" class="col-sm-4 control-label">Calificación</label> <div class="col-sm-6"> <li class="method"> <input type="radio" name="calificacion" ng-value="1" ng-model="vm.search.calificacion"> <p class="num">1</p> <label for="star"> <img src="../images/star.be8080a3.png" width="25"> </label> </li> <li class="method"> <input type="radio" name="calificacion" ng-value="2" ng-model="vm.search.calificacion"> <p class="num">2</p> <label for="star"> <img src="../images/star.be8080a3.png" width="25"> </label> </li> <li class="method"> <input type="radio" name="calificacion" ng-value="3" ng-model="vm.search.calificacion"> <p class="num">3</p> <label for="star"> <img src="../images/star.be8080a3.png" width="25"> </label> </li> <li class="method"> <input type="radio" name="calificacion" ng-value="4" ng-model="vm.search.calificacion"> <p class="num">4</p> <label for="star"> <img src="../images/star.be8080a3.png" width="25"> </label> </li> <li class="method"> <input type="radio" name="calificacion" ng-value="5" ng-model="vm.search.calificacion"> <p class="num">5</p> <label for="star"> <img src="../images/star.be8080a3.png" width="25"> </label> </li> </div> </div> <div class="row"> <div class="col-lg-12 text-center"> <input type="submit" value="Aceptar" class="btn btn-success" ng-disabled="vm.dataLoading"> <a ng-click="vm.advanced = false" class="btn btn-default" ng-disabled="vm.dataLoading">Cancelar</a><br> </div> </div> </form></div>  <div class="row text-center"> <span class="text-danger" ng-if="vm.searchResult">{{vm.searchResult}}</span> <p class="p1"><i><span ng-if="vm.jobs.length > 0">Resultados Encontrados {{vm.jobs.length}}</span></i></p> </div> <div class="jobs-container"> <div class="job-item" ng-repeat="job in vm.jobs"> <div class="well"> <i class="pull-right">{{job.since}}</i> <div class="row"> <div class="col-lg-4"> <img src="{{job.srcImage}}" class="img-thumbnail" width="240"> </div> <div class="col-lg-6"> <div class="row"> <div class="col-lg-4"> <strong>Apellidos</strong> </div> <div class="col-lg-8"> {{job.apellidos}} </div> </div> <div class="row"> <div class="col-lg-4"> <strong>Nombres</strong> </div> <div class="col-lg-8"> {{job.nombre}} </div> </div> <div class="row"> <div class="col-lg-4"> <strong>Género</strong> </div> <div class="col-lg-8"> <span ng-if="job.genero === 1">Masculino</span> <span ng-if="job.genero === 2">Femenino</span> </div> </div> <div class="row"> <div class="col-lg-4"> <strong>Descripción</strong> </div> <div class="col-lg-8"> {{job.descripcion}} </div> </div> <hr> <div class="row"> <div class="col-lg-4"> <strong>Ubicación</strong> </div> <div class="col-lg-8"> {{job._ubicacion.municipio}},{{job._ubicacion.pais}} </div> </div> <div class="row"> <div class="col-lg-4"> <strong>Calificaciones</strong> </div> <div class="col-lg-8"> <span ng-if="job.calificaciones">{{job.calificaciones}}</span> <span ng-if="!job.calificaciones">0</span> </div> </div> <div class="row"> <div class="col-lg-4"> <strong>Prestador</strong> </div> <div class="col-lg-8"> <span ng-if="job.calificacionPrestador">{{job.calificacionPrestador}}</span> <span ng-if="!job.calificacionPrestador">0</span> </div> </div> <div class="row"> <div class="col-lg-4"> <strong>Certificado</strong> </div> <div class="col-lg-8"> <span ng-if="job.estaCertificado">Sí</span> <span ng-if="!job.estaCertificado">No</span> </div> </div> <hr> <div ng-repeat="ocup in job.ocupaciones"> <div class="row"> <div class="col-lg-4"> <strong>Ocupación</strong> </div> <div class="col-lg-8"> {{ocup._ocupacion.nombre}} </div> </div> <div class="row"> <div class="col-lg-4"> <strong>Tipo</strong> </div> <div class="col-lg-8"> <span ng-if="ocup.tipo === 1">Actividad Principal</span> <span ng-if="ocup.tipo === 2">Actividad Secundaria</span> </div> </div> <div class="row"> <div class="col-lg-4"> <strong>Experiencia</strong> </div> <div class="col-lg-8"> {{ocup.experiencia}} </div> </div> </div> <br> <div class="row"> <div class="col-lg-4"> <strong></strong> </div> <div class="col-lg-8"> <a class="fsRequest" ng-disabled="job.isDoingRequest" ng-click="vm.doRequest(job)">{{job.requestText}}</a> </div> </div> <br> </div> </div> <i class="pull-right">Creado En {{job.creadoEn}}</i> </div> <hr> </div> </div> <button class="btn3" ng-click="vm.VisibleMap = !vm.VisibleMap"> <span ng-if="!vm.VisibleMap">Mostrar Mapa</span> <span ng-if="vm.VisibleMap">Ocultar Mapa</span> </button> <div id="map" ng-if="vm.VisibleMap"></div> <nav aria-label="Page navigation" ng-if="vm.jobs.length > 0"> <ul class="pagination"> <li> <a class="fsRequest" ng-click="vm.currentPage = vm.currentPage-1" aria-label="Previous"> <span aria-hidden="true">&laquo;</span> </a> </li> <li ng-class="{active: vm.currentPage == 1}"><a class="fsRequest" ng-click="vm.changePage(1)">1</a></li> <li ng-class="{active: vm.currentPage == 2}"><a class="fsRequest" ng-click="vm.changePage(2)">2</a></li> <li ng-class="{active: vm.currentPage == 3}"><a class="fsRequest" ng-click="vm.changePage(3)">3</a></li> <li ng-class="{active: vm.currentPage == 4}"><a class="fsRequest" ng-click="vm.changePage(4)">4</a></li> <li ng-class="{active: vm.currentPage == 5}"><a class="fsRequest" ng-click="vm.changePage(5)">5</a></li> <li ng-class="{active: vm.currentPage == 6}"><a class="fsRequest" ng-click="vm.changePage(6)">6</a></li> <li ng-class="{active: vm.currentPage == 7}"><a class="fsRequest" ng-click="vm.changePage(7)">7</a></li> <li ng-class="{active: vm.currentPage == 8}"><a class="fsRequest" ng-click="vm.changePage(8)">8</a></li> <li ng-class="{active: vm.currentPage == 9}"><a class="fsRequest" ng-click="vm.changePage(9)">9</a></li> <li ng-class="{active: vm.currentPage == 10}"><a class="fsRequest" ng-click="vm.changePage(10)">10</a></li> <li> <a class="fsRequest" ng-click="vm.currentPage = vm.currentPage-1" aria-label="Next"> <span aria-hidden="true">&raquo;</span> </a> </li> </ul> </nav> <script>$(\'a.fsRequest\').on(\'click\', function (e) {\n    	e.preventDefault()\n  	})</script> </body> </html>')}]);